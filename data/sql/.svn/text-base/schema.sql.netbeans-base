CREATE TABLE deces (id BIGINT AUTO_INCREMENT, deces_id BIGINT, numeroacte BIGINT NOT NULL, numeroordre BIGINT NOT NULL, dateacte DATE NOT NULL, heureacte TIME NOT NULL, typeacte VARCHAR(255) CHARACTER SET utf8 DEFAULT 'deces' NOT NULL, nomdefunt VARCHAR(45) CHARACTER SET utf8 NOT NULL, prenomdefunt VARCHAR(45) CHARACTER SET utf8 NOT NULL, datedeces DATE NOT NULL, heuredeces TIME NOT NULL, dateapproximative TINYINT(1) DEFAULT '0' NOT NULL, lieudeces TEXT CHARACTER SET utf8 NOT NULL, professiondefunt VARCHAR(70) CHARACTER SET utf8 NOT NULL, domiciledefunt TEXT CHARACTER SET utf8 NOT NULL, datenaissancedefunt DATE NOT NULL, lieunaissancedefunt TEXT CHARACTER SET utf8 NOT NULL, nomprenomperedefunt VARCHAR(90) CHARACTER SET utf8 NOT NULL, nomprenommeredefunt VARCHAR(90) CHARACTER SET utf8 NOT NULL, statutmatrimoniale VARCHAR(255) CHARACTER SET utf8 DEFAULT 'célibataire' NOT NULL, nomdeclarant VARCHAR(45) CHARACTER SET utf8 NOT NULL, prenomdeclarant VARCHAR(45) CHARACTER SET utf8 NOT NULL, agedeclarant BIGINT NOT NULL, professiondeclarant VARCHAR(70) CHARACTER SET utf8 NOT NULL, adressedeclarant TEXT CHARACTER SET utf8 NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE mariage (id BIGINT AUTO_INCREMENT, numeroacte BIGINT NOT NULL, numeroordre BIGINT NOT NULL, dateacte DATE NOT NULL, heureacte TIME NOT NULL, datereceptioncontrat DATE, nomprenomnotaire VARCHAR(90) CHARACTER SET utf8, adressenotaire TEXT CHARACTER SET utf8, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE mariage_acteur (id BIGINT AUTO_INCREMENT, mariage_id BIGINT NOT NULL, mariagenumeroacte BIGINT NOT NULL, nom VARCHAR(45) CHARACTER SET utf8 NOT NULL, prenom VARCHAR(45) CHARACTER SET utf8 NOT NULL, typeacteur VARCHAR(255) CHARACTER SET utf8 DEFAULT 'époux' NOT NULL, datenaissance DATE NOT NULL, lieunaissance TEXT NOT NULL, domicile TEXT CHARACTER SET utf8 NOT NULL, residence TEXT CHARACTER SET utf8 NOT NULL, profession VARCHAR(70) CHARACTER SET utf8 NOT NULL, etatanterieurmariage VARCHAR(255) CHARACTER SET utf8 DEFAULT 'célibataire' NOT NULL, nomprenomprecconjoint VARCHAR(90) CHARACTER SET utf8, INDEX mariage_id_idx (mariage_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE mariage_contact (mariage_id BIGINT NOT NULL, mariagenumeroacte BIGINT NOT NULL, nom VARCHAR(45) CHARACTER SET utf8, prenom VARCHAR(45) CHARACTER SET utf8, typecontact VARCHAR(255) CHARACTER SET utf8 DEFAULT 'témoin' NOT NULL, age BIGINT, domicile TEXT CHARACTER SET utf8 NOT NULL, profession VARCHAR(70) CHARACTER SET utf8 NOT NULL, INDEX mariage_id_idx (mariage_id), PRIMARY KEY(nom, prenom)) ENGINE = INNODB;
CREATE TABLE mention_marginale_deces (id BIGINT AUTO_INCREMENT, deces_id BIGINT, mention TEXT CHARACTER SET utf8, dateajout DATE NOT NULL, INDEX deces_id_idx (deces_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE mention_marginale_mariage (id BIGINT AUTO_INCREMENT, mariage_id BIGINT, mention TEXT CHARACTER SET utf8, dateajout DATE NOT NULL, INDEX mariage_id_idx (mariage_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE mention_marginale_naissance (id BIGINT AUTO_INCREMENT, naissance_id BIGINT, mention TEXT CHARACTER SET utf8, dateajout DATE NOT NULL, INDEX naissance_id_idx (naissance_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE naissance (id BIGINT AUTO_INCREMENT, numeroacte BIGINT, numeroordre BIGINT, typeacte VARCHAR(255) DEFAULT 'naissance' NOT NULL, dateacte DATE NOT NULL, heureacte TIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE naissance_acteur (id BIGINT AUTO_INCREMENT, naissance_id BIGINT NOT NULL, nom VARCHAR(45) CHARACTER SET utf8 NOT NULL, prenom VARCHAR(45) CHARACTER SET utf8 NOT NULL, age BIGINT, datenaissance DATE NOT NULL, lieunaissance TEXT CHARACTER SET utf8 NOT NULL, profession VARCHAR(70) CHARACTER SET utf8 NOT NULL, domicile TEXT CHARACTER SET utf8 NOT NULL, estdeclarant TINYINT(1) DEFAULT '0' NOT NULL, typeacteur VARCHAR(255) CHARACTER SET utf8 DEFAULT 'père' NOT NULL, typeautres VARCHAR(70) CHARACTER SET utf8, INDEX naissance_id_idx (naissance_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE naissance_enfant (id BIGINT AUTO_INCREMENT, naissance_id BIGINT NOT NULL, nom VARCHAR(45) CHARACTER SET utf8 NOT NULL, prenom VARCHAR(45) CHARACTER SET utf8 NOT NULL, sexe VARCHAR(255) CHARACTER SET utf8 DEFAULT 'masculin' NOT NULL, datenaissance DATE NOT NULL, heurenaissance TIME, lieunaissance TEXT CHARACTER SET utf8 NOT NULL, parentsmaries TINYINT(1) DEFAULT '1' NOT NULL, datemariageparents DATE, lieumariageparents TEXT, INDEX naissance_id_idx (naissance_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE utilisateur (id BIGINT AUTO_INCREMENT, login VARCHAR(20) NOT NULL, password VARCHAR(20) NOT NULL, nom VARCHAR(45) CHARACTER SET utf8 NOT NULL, prenom VARCHAR(45) CHARACTER SET utf8 NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
ALTER TABLE mariage_acteur ADD CONSTRAINT mariage_acteur_mariage_id_mariage_id FOREIGN KEY (mariage_id) REFERENCES mariage(id);
ALTER TABLE mariage_contact ADD CONSTRAINT mariage_contact_mariage_id_mariage_id FOREIGN KEY (mariage_id) REFERENCES mariage(id);
ALTER TABLE mention_marginale_deces ADD CONSTRAINT mention_marginale_deces_deces_id_deces_id FOREIGN KEY (deces_id) REFERENCES deces(id);
ALTER TABLE mention_marginale_mariage ADD CONSTRAINT mention_marginale_mariage_mariage_id_mariage_id FOREIGN KEY (mariage_id) REFERENCES mariage(id);
ALTER TABLE mention_marginale_naissance ADD CONSTRAINT mention_marginale_naissance_naissance_id_naissance_id FOREIGN KEY (naissance_id) REFERENCES naissance(id);
ALTER TABLE naissance_acteur ADD CONSTRAINT naissance_acteur_naissance_id_naissance_id FOREIGN KEY (naissance_id) REFERENCES naissance(id);
ALTER TABLE naissance_enfant ADD CONSTRAINT naissance_enfant_naissance_id_naissance_id FOREIGN KEY (naissance_id) REFERENCES naissance(id);
